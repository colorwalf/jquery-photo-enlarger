/*! jquery-photo-enlarger.js v0.0.0 | (c) 2013 Brent O'Connor | The MIT License (MIT)
*/
"use strict";!function(a){a.fn.PhotoEnlarger=function(b){var c=this,d={max_width_container:null,caption_fadein_speed:500,caption_fadeout_speed:500,enlarge_speed:300,shrink_speed:300};return c.options=a.extend(d,b),c.enlarge=function(b){var d=b.find("img:first"),e=a('<div class="thumb-large">'),f=a("<img>");f.attr("src",d.data("large_photo")),f.imagesLoaded().done(function(){var g=f[0].width,h=f[0].height,i=a('<div class="caption">'),j=g,k=h;"undefined"==typeof b.max_width&&"undefined"==typeof b.max_height?(null===c.options.max_width_container?j=b.parent().parent().width():c.options.max_width_container instanceof a&&(j=c.options.max_width_container.width()),g>j&&(k=h*(j/g)),b.max_width=j,b.max_height=k):(j=b.max_width,k=b.max_height),i.html(d.data("caption")),e.append(f).append(a('<div class="state-icon">')),e.hide(),e.css({width:d[0].width,height:d[0].height}),b.append(e),e.show(),e.animate({width:j,height:k},c.options.enlarge_speed,function(){e.append(i),e.hover(function(){i.fadeIn(c.options.caption_fadein_speed)},function(){i.fadeOut(c.options.caption_fadeout_speed)}),e.find("img:first").click(function(){c.shrink(b)})})})},c.shrink=function(a){var b=a.find(".thumb-large:first"),d=a.find("img:first");b.find(".caption").fadeOut(100,function(){b.animate({width:d.width(),height:d.height()},c.options.shrink_speed,function(){b.remove()})})},c.each(function(){var b=a(this),d=b.find("img:first"),e=d.data("large_photo"),f=new Image;return f.src=e,b.append('<div class="state-icon">'),d.click(function(){c.enlarge(b)}),b})}}(jQuery);